<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
<template id="argentian_header" name="Argentinian Header">
    <!-- Configurations -->
    <t t-set="header_height" t-value="int(header_height)"/>        
    <t t-set="title_height" t-value="int(title_height)"/>
    <t t-set="page_info_height" t-value="int(page_info_height)"/>
    <t t-set="logo_height" t-value="int(logo_height)"/>
    <t t-set="partner_info_height" t-value="int(partner_info_height)"/>
    <t t-set="company_info_height" t-value="header_height - logo_height"/>
    <t t-set="other_company_info_height" t-value="header_height - title_height - page_info_height"/>
    
    <!-- Multicompany -->
    <t t-if="o and 'company_id' in o">
        <t t-set="company" t-value="o.company_id"/>
    </t>
    <t t-if="not o or not 'company_id' in o">
        <t t-set="company" t-value="res_company"/>
    </t>
    
    <div class="header">
        <div class="row">
            <div class="col-xs-5">
                <div t-att-style="'min-height: %imm;' % logo_height">
                    <img t-if="report.print_logo =='company_logo'" t-att-src="'data:image/png;base64,%s' % company.logo" t-att-style="'max-height: %imm;' % logo_height"/>
                    <img t-if="report.print_logo =='specified_logo' and report.logo" t-att-src="'data:image/png;base64,%s' % report.logo" t-att-style="'max-height: %imm;' % logo_height"/>
                </div>
                <div t-att-style="'min-height: %imm;' % company_info_height" t-if="print_header">
                    <table>
                        <tr><td><b><span t-field="company.partner_id"/></b></td></tr>
                        <tr><td><span t-field="company.partner_id.street"/></td></tr>
                        <tr><td>(<span t-field="company.partner_id.zip"/>) <span t-field="company.partner_id.city"/> - <span t-field="company.state_id"/> - <span t-field="company.country_id"/></td></tr>
                        <tr><td>Tel. <span t-field="company.partner_id.phone"/></td></tr>
                        <tr><td><b><span t-field="company.partner_id.email"/></b></td></tr>
                        <tr><td><b><div t-field="company.website" style="border-bottom: 1px solid black;"/></b></td></tr>
                        <tr><td><b><div t-field="company.responsability_id"/></b></td></tr>
                    </table>
                </div>
            </div>
            <div class="col-xs-2 text-center">
                <table style="text-align:center;margin: auto;margin-top:15mm">
                    <tr><td t-if="document_letter"><h1><span style="border: 1px solid;
padding: 2mm;" t-raw="document_letter"/></h1></td></tr>
                    <tr t-if="afip_code"><td><h5>Código N</h5><span t-raw="afip_code"/></td></tr>
                    <tr><td style="width: 22mm;"><span t-raw="legend"/></td></tr>
                </table>
            </div>
            <div class="col-xs-5">
                <div t-att-style="'min-height: %imm;' % title_height">
                    <table>
                        <tr><td><h2>
                            <t t-if="document_title">
                                <span t-raw="document_title"/>
                            </t>
                        </h2></td></tr>
                    </table>
                </div>
                <div t-att-style="'min-height: %imm;' % page_info_height">
                    <table>
                        <tr><td t-if="document_number">Nº: <span t-raw="document_number"/></td></tr>
                        <!-- TODO ver como formatear esta fecha -->
                        <tr><td>Fecha: <span t-raw="document_date"/></td></tr>
                        <tr><td t-if="print_numbering">Pagina <span class="page"/> de <span class="topage"/></td></tr>
                    </table>
                </div>
                <div t-att-style="'min-height: %imm;' % other_company_info_height" t-if="print_header">
                    <table>
                        <tr><td>CUIT: <span t-field="company.partner_id.formated_vat"/></td></tr>
                        <tr><td>Ing. Brutos: <span t-field="company.iibb"/></td></tr>
                        <tr><td>Inicio de actividades: <span t-field="company.start_date"/></td></tr>
                    </table>
                </div>
            </div>
        </div>
        <!-- Informacion del partner -->
        <div class="row" t-att-style="row_border1 + 'min-height:%imm;' % (partner_info_height)">
            <div class="col-xs-6">
                Cliente: <strong><span t-field="o.partner_id.commercial_partner_id"/></strong><br/>
                <div>Dirección: <strong><span t-field="o.partner_id.commercial_partner_id.contact_address"/></strong></div><br/>
                Cond. I.V.A.: <strong><span t-field="o.partner_id.commercial_partner_id.responsability_id"/></strong><br/>
                CUIT: <strong><span t-field="o.partner_id.commercial_partner_id.formated_vat"/></strong>
            </div>
            <div class="col-xs-6">
                Teléfono: <strong><span t-field="o.partner_id.commercial_partner_id.phone"/></strong><br/>
                Email: <strong><span t-field="o.partner_id.commercial_partner_id.email"/></strong><br/>
                <t t-if="o.partner_id != o.partner_id.commercial_partner_id">Contacto: <b><span t-field="o.partner_id"/></b></t>
            </div>
        </div>
        <t t-raw="0"/>
    </div>
</template>

</data>
</openerp>